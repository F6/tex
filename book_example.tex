%!TEX TS-program = xelatex

%!TEX encoding = UTF-8 Unicode

%!TEX program=xelatex
\documentclass{book}

\input{header.tex}

\title{Example Title}
\author{Zhi Zi}
\date{\today}

\begin{document}
\maketitle

This is some preface before table of content

\tableofcontents

\chapter{This is a example chapter}

something before first section

\section{Example section}

example text1

\subsection{Example subsection}

example text2

\subsubsection{Example subsubsection}

example text3

\paragraph{Example paragraph}

example text4

\subparagraph{Example subparagraph}

example text5

\section{Math}

Numbered equation:

\begin{equation}
	E = m c^2
\end{equation}

Inline math: \( E = mc^2 \)

Unnumbered equation:

\begin{equation*}
	E = mc^2
\end{equation*}

Aligned math:

\begin{equation}
	\begin{aligned}
		E    & = mc^2 \\
		mc^2 & = E    \\
	\end{aligned}
\end{equation}

Theorem:

\begin{theorem}
	[zeroth law of foo]
	\label{zeroth}
	Never change the order of foo-bar.
\end{theorem}

\begin{theorem}
	[first law of foo]
	co-foo is bar, and co-bar is foo.
\end{theorem}

\begin{proof}
	Because foo-bar is just co-(bar-foo), and co-(bar-foo) is just (co-bar)-(co-foo).

	Since we can never change the order of foo-bar according to the zeroth law of foo (Theorem \ref{zeroth}), co-bar is just foo, and co-foo is just bar.
\end{proof}

\begin{lemma}
	coffee is bbee.
\end{lemma}

\section{Source code}

we can use verbatim for short source code

\begin{verbatim}
    very short source code
\end{verbatim}

Note tha verbatim ignores tab but does not ignore spaces, but a lot of formatters automatically use tab with latex, so it will mess up with our indentations.
So we never use verbatim for longer pieces of code.

Instead, we use listings package

\lstinputlisting[label={src:example.cpp}, caption={Example source code (C++)},breaklines=true, frame=single, numbers=left, language=C++]{src/example.cpp}

This way the source code is nicely formatted, and also numbered.
Spaces, indentations, page breaks and breaklines are handled correctly.

We can also refer to the source codes \ref{src:example.cpp} through the ref command.

\section{Figures}

Generally I scale all figures to the width of the column, and if i want anything smaller than that, i add blank spaces around the figure instead of changing the layout of the document.

\begin{figure}
	\includegraphics[width=\columnwidth]{figs/example.png}
	\caption{Example Figure}
	\label{fig:example.png}
\end{figure}

refer to Fig. \ref{fig:example.png} with ref command, too

\section{Other commonly used structures}

\subsection{Enumerate}

\begin{enumerate}
	\item 12123
	\item 23234
	\item 34345
\end{enumerate}

\subsection{Algorithm}

\begin{algorithm}
	[foobar-foobar]
	This algorithm takes \texttt{\&foo} and \texttt{bar}, then make \texttt{*foo} equal with \texttt{bar}.

	\begin{enumerate}
		\item check if *foo == bar now, if not, go ahead, else, stop and return.
		\item *foo := *foo + randint(-1,1)
		\item goto 1.
	\end{enumerate}
\end{algorithm}

\end{document}
